generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model Product {
  id            String   @id @default(cuid())
  name          String
  description   String   
  price         Float
  quantity      Int      @default(0)
  imageUrl      String
  
  category      String?
  size          String[]
  color         String[]
  
  hasVariants   Boolean  @default(false)
  isPack        Boolean  @default(false) 

  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  orderItems    OrderItem[]
}

model Order {
  id              String      @id @default(cuid())
  
  customerName    String
  customerPhone   String
  customerAddress String
  customerArea    String? 
  total           Float
  deliveryCharge  Float       @default(0)
  status          String      @default("PENDING") 
  
  items           OrderItem[]

  createdAt       DateTime    @default(now())
  updatedAt       DateTime    @updatedAt
}

model OrderItem {
  id            String   @id @default(cuid())
  orderId       String
  order         Order    @relation(fields: [orderId], references: [id], onDelete: Cascade)
  
  productId     String
  product       Product  @relation(fields: [productId], references: [id])
  
  name          String   
  price         Float    
  quantity      Int
  
  selectedSize  String?
  selectedColor String?
  imageUrl      String?

  createdAt     DateTime @default(now())
}
